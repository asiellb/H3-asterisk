install ubuntu and do full-upgrade
visudo -f /etc/sudoers
echo "Port 8946" >> /etc/ssh/ssh_config ; 
sed -e 's/^Port 22/Port 8946/' /etc/ssh/sshd_config > /tmp/sshd_config ; mv /etc/ssh/sshd_config /etc/ssh/sshd_config.old ; mv /tmp/sshd_config /etc/ssh
/etc/init.d/ssh restart
echo -e "* soft nofile 65535\n* hard nofile 65535\nroot soft nofile 65535\nroot hard nofile 65535" >> /etc/security/limits.conf
cat /etc/resolv.conf
vim /etc/network/interfaces

auto eth0
iface eth0 inet static
        address 10.80.2.21
        netmask 255.255.255.0
        network 10.80.2.0
        broadcast 10.80.2.255

auto eth1
iface eth1 inet static
        address 85.159.114.4
        netmask 255.255.255.240
        network 85.159.114.0
        broadcast 85.159.114.15
        gateway 85.159.114.1
        dns-nameservers 85.159.112.30

mv /etc/rsyslog.d/50-default.conf /root/rsyslog.original ; sed -e 's/^#cron/cron/' /root/rsyslog.original > /etc/rsyslog.d/50-default.conf
aptitude -y install vim mysql-client-5.0 git-core screen screen-profiles sox libsox-fmt-all openssh-server openssh-client ntp iproute iputils-tracepath htop iftop iotop libdbi-perl libjson-perl libjson-xs-perl monit build-essential ncurses-dev libdatetime-perl openipmi ipmitool munin-node
echo -e "ipmi_si\nipmi_devintf" >> /etc/modules ; modprobe ipmi_si ; modprobe ipmi_devintf ; ipmitool -I open -U ADMIN -P ADMIN bmc reset cold
ssh-keygen for grant
echo "ssh-rsa AAAAB3NzaC1yc2EAAAABIwAAAQEAwVbSmXu5Ss0Ot8BezE0btIbjXza1YRoevHqejI1LKP5DkPJpoiNnrUTgtYJRgu62L3Iq+TuBHA3yTxPYOplXJMR1SOWTMITj+uwys7pSs9s5FcK+Ag0BOdoyfoX6N9go1LoicbUrNFGBcExLfqNS9xaXuGqQm8TCvFcKqSbGio1uGoOisgwJ26He9hz2pdDPNay1XPa2JLn+gRtLego0mdaNdOzDmCUV2nhfAa4yg+Snwi0dG5CidNeNX6xwBOGRmLwYl1i6BHL6MscgjvqkNEbDkKIpA7lyX7+QbnqQ8kSKKLoOGK476QvO9QvVrUJSTRleGoepMi8qK3UehCHZ5Q== grant@swift" > ~/.ssh/authorized_keys
append grant ssh key to coot :: cat /home/grant/.ssh/id_rsa.pub
echo 'allow ^10\.9\.2\.1$' >> /etc/munin/munin-node.conf
reboot (for possible new kernel. +ssh +limits +eth0 +syslog)
scp -r 216.66.234.253:sbn-git .
git pull
ssh-keygen for root copy the pub key to w0
ssh 10.9.2.1 exit - to test certificate auth and add known host
mkdir -p /dialer/projects
run /home/grant/sbn-git/convert/voiceprompts-rsync.sh
crontab appendix (s/X007/W05A/)
*/3 * * * * root /home/grant/sbn-git/convert/voiceprompts-rsync.sh
00 7 * * * root /bin/rm /var/log/astdialer.dat
*/2 * * * * root /usr/bin/rsync -tq /var/log/astdialer.dat 10.9.2.1:/dialer/www/fancy/asterisk.X007.graph.dat
40 00 * * * root /home/grant/sbn-git/asterisk/dialer-nightly.sh
/home/grant/sbn-git/asterisk/install.sh 1.6.1.1
vim /etc/default/monit
/usr/bin/install -o root -g root -m 0600 /home/grant/sbn-git/asterisk/astdialer-monitrc /etc/monit/monitrc
/etc/init.d/monit start
Add dialer name to DialerUtils::init_carrier_lookup
email IP addresses to voip carriers


--- G729 installation
* buy licenses from Digium, http://store.digium.com/productview.php?product_code=G729CODEC
* run the register utility from: http://downloads.digium.com/pub/register/x86-64/register
* run th utility: http://downloads.digium.com/pub/telephony/codec_g729/benchg729/x86-64/benchg729-1.0.7-x86_64
* use the binary selector: http://www.digium.com/en/docs/G729/g729-download.php
* get the drivers from: http://downloads.digium.com/pub/telephony/codec_g729/asterisk-1.6.1/x86-64/codec_g729a-1.6.1_3.1.4-nocona_64.tar.gz
* cp codec_g729a.so /usr/lib/asterisk/modules/
* restart asterisk to load, check using "g729 show licenses"

The following is your key for 100 channels of G.729 for order A000105353 (PO# 45418): Key : 'G729-713C1F6A'
Registered as Hans Smit, SBN Peripherals Inc etc. used hans@sbndials.com
/var/lib/asterisk/licenses/G729-713C1F6A.lic on w7




